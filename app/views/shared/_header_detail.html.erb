<header class="bg-white border-b border-gray-200 sticky top-0 z-10 w-full min-h-[48px]">
  <div class="flex items-center justify-between px-4 py-3 relative">
    <!-- 左：戻るボタン -->
    <div class="flex-1">
      <%# local_assigns内部ではハッシュ（連想配列）で渡される %>
      <% if local_assigns[:show_back_button] %>
        <button type="button" onClick="history.back()" class="flex items-center text-gray-700 hover:text-gray-900 cursor-pointer">
          <svg class="w-6 h-6 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
          </svg>
        </button>
      <% end %>
    </div>

    <!-- 中央：タイトル（オプション） -->
    <div class="flex-1 text-center">
      <h1 class="text-sm font-bold text-gray-800"><%= title %></h1>
    </div>

    <!-- 右：メニュー -->
    <div class="flex-1 flex justify-end" data-controller="dropdown">
      <button type="button" data-action="click->dropdown#toggle" class="flex items-center text-gray-700 hover:text-gray-900 cursor-pointer">
        ･･･
      </button>
      <!-- ドロップダウンメニュー -->
      <ul data-dropdown-target="menu" class="hidden w-[200px] absolute right-4 top-9 bg-white border border-gray-200 rounded shadow-lg">
        <li>
          <%= link_to "登録一覧", coffee_beans_path,
            class: "block w-full px-4 py-2 text-gray-700 hover:bg-gray-100 text-left"
          %>
        </li>
        <li>
          <%= link_to "評価一覧", tasting_notes_path,
            class: "block w-full px-4 py-2 text-gray-700 hover:bg-gray-100 text-left"
          %>
        </li>
        <li>
          <%= link_to "AIチャット", chat_threads_path,
            class: "block w-full px-4 py-2 text-gray-700 hover:bg-gray-100 text-left"
          %>
        </li>
        <li>
          <%= button_to "ログアウト", destroy_user_session_path,
            method: :delete,
            class: "block w-full px-4 py-2 text-gray-700 hover:bg-gray-100 text-left"
          %>
        </li>
      </ul>
    </div>
  </div>
</header>
