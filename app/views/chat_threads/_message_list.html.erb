<!-- メッセージ表示エリア -->
<div class="flex-1 overflow-y-auto p-4 w-full max-w-3xl mx-auto" id="messages">
  <% if messages.any? %>
    <% messages.each do |message| %>
      <div class="mb-4 <%= message.role == 'user' ? 'text-right' : 'text-left' %>">
        <div class="inline-block max-w-md p-3 rounded-lg <%= message.role == 'user' ? 'bg-[rgba(37,37,37,0.04)]' : 'bg-white border border-[rgba(37,37,37,0.08)]' %>">
          <p class="text-sm wrap-break-word text-left whitespace-pre-wrap"><%= message.content %></p>
          <span class="text-xs opacity-75"><%= message.created_at.in_time_zone('Asia/Tokyo').to_fs(:short) %></span>
        </div>
      </div>
    <% end %>
  <% else %>
    <p class="text-gray-500 text-center mt-8">メッセージがありません。下から送信してください。</p>
  <% end %>
</div>
